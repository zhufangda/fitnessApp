<!DOCTYPE html5>

<!--
 * @description:  
 * @author: ZHU Fangda
 * @Date: 2020-01-16 19:37:34
 * @LastEditors  : ZHU Fangda
 * @LastEditTime : 2020-02-04 14:38:43
 -->
<html>

  <head>
    <title>Step 1</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="style.css">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

  </head>

<body>

  <form>

    <div class="input-text">
      <input type="text" class="form-control " placeholder="Name" id="name"/>
    </div>

    <!-- 单选按钮 -->
    <div class="sex-group">
      <div class="sex-option">
        <input type="radio" name="sex" id="female" value="f" onclick="save()"/>
        <label for="female">
          F
        </label>
      </div>

      <div class="sex-option">
        <input type="radio" name="sex" value="m" id="male" />
        <label for="male">M</label>
      </div>

    </div>

    <!-- 文本输入框 -->

    <div class="input-text">
      <input type="text" class="form-control" id="birthday" placeholder="Birthday" />
    </div>


    <div class="input-text">
      <input type="text" class="form-control" id="height" placeholder="Height" />
      <span class="input-text-addon">m</span>
    </div>

    <div class="input-text">
      <input type="text" class="form-control" id="weight" placeholder="Weight" />
      <span class="input-text-addon">kg</span>
    </div>

    <div class="nav_btn">
      <a>
        <!-- <img src="img/back.svg"> -->
      </a>

      <a href="step1.html" >
        <img src="img/next.svg" onclick="save()">
      </a>
    </div>

  </form>

</body>

<script>
  // Extract it since we only define `brownies` globally
  
  if(localStorage.name){
    document.getElementById("name").value = localStorage.name;
  }
  
  
  let radio = document.getElementsByName("sex");

  for(let i=0; i<radio.length;i++){
    if(radio[i].value==localStorage.sex){
      radio[i].checked=true;
    }
  }
  
  if(localStorage.birthday){
    document.getElementById("birthday").value = localStorage.birthday;
  }

  if(localStorage.height){
    document.getElementById("height").value = localStorage.height;
  }
  
  if(localStorage.weight){
    document.getElementById("weight").value = localStorage.weight;
  }
  
  
  function save(){

    if(document.getElementById('name').value){
      localStorage.name = document.getElementById('name').value;
    }
    
    // localStorage.sex = document.getElementById('sex').value
    let radio = document.getElementsByName("sex");
    for(let i=0; i<radio.length;i++){
      if(radio[i].checked){
        localStorage.sex = radio[i].value;
      }
    }

    if(document.getElementById('birthday').value){
      localStorage.birthday = document.getElementById('birthday').value
    }

    if(document.getElementById('height').value){
      localStorage.height = document.getElementById('height').value
    }
      
    if(document.getElementById('weight').value){
      localStorage.weight = document.getElementById('weight').value
    }
      
      console.log(localStorage);
  }
  
</script>

</html>